"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{8305:function(e,t,o){o.r(t),o.d(t,{scopeCss:function(){return scopeCss}});let escapeRegExpSpecialCharacters=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),safeSelector=e=>{let t=[],o=0;e=e.replace(/(\[[^\]]*\])/g,(e,r)=>{let c="__ph-".concat(o,"__");return t.push(r),o++,c});let r=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(e,r,c)=>{let s="__ph-".concat(o,"__");return t.push(c),o++,r+s});return{content:r,placeholders:t}},restoreSafeSelector=(e,t)=>t.replace(/__ph-(\d+)__/g,(t,o)=>e[+o]),r="-shadowcsshost",c="-shadowcssslotted",s="-shadowcsscontext",l=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",n=RegExp("("+r+l,"gim"),a=RegExp("("+s+l,"gim"),p=RegExp("("+c+l,"gim"),i=r+"-no-combinator",h=/-shadowcsshost-no-combinator([^\s]*)/,u=[/::shadow/g,/::content/g],S=/-shadowcsshost/gim,createSupportsRuleRe=e=>RegExp("((?<!(^@supports(.*)))|(?<={.*))(".concat(e,"\\b)"),"gim"),g=createSupportsRuleRe("::slotted"),d=createSupportsRuleRe(":host"),m=createSupportsRuleRe(":host-context"),f=/\/\*\s*[\s\S]*?\*\//g,stripComments=e=>e.replace(f,""),C=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,extractCommentsWithHash=e=>e.match(C)||[],x=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,R=/([{}])/g,_=/(^.*?[^\\])??((:+)(.*)|$)/,v="%BLOCK%",processRules=(e,t)=>{let o=escapeBlocks(e),r=0;return o.escapedString.replace(x,function(){for(var e=arguments.length,c=Array(e),s=0;s<e;s++)c[s]=arguments[s];let l=c[2],n="",a=c[4],p="";a&&a.startsWith("{"+v)&&(n=o.blocks[r++],a=a.substring(v.length+1),p="{");let i={selector:l,content:n},h=t(i);return"".concat(c[1]).concat(h.selector).concat(c[3]).concat(p).concat(h.content).concat(a)})},escapeBlocks=e=>{let t=e.split(R),o=[],r=[],c=0,s=[];for(let e=0;e<t.length;e++){let l=t[e];"}"===l&&c--,c>0?s.push(l):(s.length>0&&(r.push(s.join("")),o.push(v),s=[]),o.push(l)),"{"===l&&c++}s.length>0&&(r.push(s.join("")),o.push(v));let l={escapedString:o.join(""),blocks:r};return l},insertPolyfillHostInCssText=e=>e=e.replace(m,"$1".concat(s)).replace(d,"$1".concat(r)).replace(g,"$1".concat(c)),convertColonRule=(e,t,o)=>e.replace(t,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t[2])return i+t[3];{let e=t[2].split(","),r=[];for(let c=0;c<e.length;c++){let s=e[c].trim();if(!s)break;r.push(o(i,s,t[3]))}return r.join(",")}}),colonHostPartReplacer=(e,t,o)=>e+t.replace(r,"")+o,convertColonHost=e=>convertColonRule(e,n,colonHostPartReplacer),colonHostContextPartReplacer=(e,t,o)=>t.indexOf(r)>-1?colonHostPartReplacer(e,t,o):e+t+o+", "+t+" "+e+o,convertColonSlotted=(e,t)=>{let o="."+t+" > ",r=[];return{selectors:r,cssText:e=e.replace(p,function(){for(var e=arguments.length,t=Array(e),c=0;c<e;c++)t[c]=arguments[c];if(!t[2])return i+t[3];{let e=t[2].trim(),c=t[3],s=o+e+c,l="";for(let e=t[4]-1;e>=0;e--){let o=t[5][e];if("}"===o||","===o)break;l=o+l}let n=(l+s).trim(),a="".concat(l.trimEnd()).concat(s.trim()).trim();if(n!==a){let e="".concat(a,", ").concat(n);r.push({orgSelector:n,updatedSelector:e})}return s}})}},convertColonHostContext=e=>convertColonRule(e,a,colonHostContextPartReplacer),convertShadowDOMSelectors=e=>u.reduce((e,t)=>e.replace(t," "),e),makeScopeMatcher=e=>RegExp("^("+(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"))+")([>\\s~+[.,{:][\\s\\S]*)?$","m"),selectorNeedsScoping=(e,t)=>{let o=makeScopeMatcher(t);return!o.test(e)},injectScopingSelector=(e,t)=>e.replace(_,function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(arguments.length>2&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:""),c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return o+t+r+c}),applySimpleSelectorScope=(e,t,o)=>{if(S.lastIndex=0,S.test(e)){let t=".".concat(o);return e.replace(h,(e,o)=>injectScopingSelector(o,t)).replace(S,t+" ")}return t+" "+e},applyStrictSelectorScope=(e,t,o)=>{let r;t=t.replace(/\[is=([^\]]*)\]/g,function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return o[0]});let c="."+t,_scopeSelectorPart=e=>{let r=e.trim();if(!r)return"";if(e.indexOf(i)>-1)r=applySimpleSelectorScope(e,t,o);else{let t=e.replace(S,"");t.length>0&&(r=injectScopingSelector(t,c))}return r},s=safeSelector(e);e=s.content;let l="",n=0,a=/( |>|\+|~(?!=))\s*/g,p=e.indexOf(i)>-1,h=!p;for(;null!==(r=a.exec(e));){let t=r[1],o=e.slice(n,r.index).trim();h=h||o.indexOf(i)>-1;let c=h?_scopeSelectorPart(o):o;l+="".concat(c," ").concat(t," "),n=a.lastIndex}let u=e.substring(n);return l+=(h=h||u.indexOf(i)>-1)?_scopeSelectorPart(u):u,restoreSafeSelector(s.placeholders,l)},scopeSelector=(e,t,o,r)=>e.split(",").map(e=>r&&e.indexOf("."+r)>-1?e.trim():selectorNeedsScoping(e,t)?applyStrictSelectorScope(e,t,o).trim():e.trim()).join(", "),scopeSelectors=(e,t,o,r,c)=>processRules(e,e=>{let c=e.selector,s=e.content;"@"!==e.selector[0]?c=scopeSelector(e.selector,t,o,r):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(s=scopeSelectors(e.content,t,o,r));let l={selector:c.replace(/\s{2,}/g," ").trim(),content:s};return l}),scopeCssText=(e,t,o,r,c)=>{e=convertColonHostContext(e=convertColonHost(e=insertPolyfillHostInCssText(e)));let s=convertColonSlotted(e,r);return e=convertShadowDOMSelectors(e=s.cssText),t&&(e=scopeSelectors(e,t,o,r)),{cssText:(e=(e=replaceShadowCssHost(e,o)).replace(/>\s*\*\s+([^{, ]+)/gm," $1 ")).trim(),slottedSelectors:s.selectors.map(e=>({orgSelector:replaceShadowCssHost(e.orgSelector,o),updatedSelector:replaceShadowCssHost(e.updatedSelector,o)}))}},replaceShadowCssHost=(e,t)=>e.replace(/-shadowcsshost-no-combinator/g,".".concat(t)),scopeCss=(e,t,o)=>{let r=t+"-h",c=t+"-s",s=extractCommentsWithHash(e);e=stripComments(e);let l=[];if(o){let processCommentedSelector=e=>{let t="/*!@___".concat(l.length,"___*/"),o="/*!@".concat(e.selector,"*/");return l.push({placeholder:t,comment:o}),e.selector=t+e.selector,e};e=processRules(e,e=>"@"!==e.selector[0]?processCommentedSelector(e):((e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(e.content=processRules(e.content,processCommentedSelector)),e))}let n=scopeCssText(e,t,r,c);return e=[n.cssText,...s].join("\n"),o&&l.forEach(t=>{let{placeholder:o,comment:r}=t;e=e.replace(o,r)}),n.slottedSelectors.forEach(t=>{let o=RegExp(escapeRegExpSpecialCharacters(t.orgSelector),"g");e=e.replace(o,t.updatedSelector)}),e}}}]);