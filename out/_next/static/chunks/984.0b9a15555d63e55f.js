"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{9984:function(e,t,o){o.r(t),o.d(t,{startInputShims:function(){return startInputShims}});var n=o(4432),r=o(6367),l=o(4927),i=o(817);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let a=new WeakMap,relocateInput=function(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];a.has(e)!==o&&(o?addClone(e,t,n,r):removeClone(e,t))},isFocused=e=>e===e.getRootNode().activeElement,addClone=function(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.parentNode,l=t.cloneNode(!1);l.classList.add("cloned-input"),l.tabIndex=-1,n&&(l.disabled=!0),r.appendChild(l),a.set(e,l);let i=e.ownerDocument,s="rtl"===i.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform="translate3d(".concat(s,"px,").concat(o,"px,0) scale(0)")},removeClone=(e,t)=>{let o=a.get(e);o&&(a.delete(e),o.remove()),e.style.pointerEvents="",t.style.transform=""},enableHideCaretOnScroll=(e,t,o)=>{if(!o||!t)return()=>{};let scrollHideCaret=o=>{isFocused(t)&&relocateInput(e,t,o)},onBlur=()=>relocateInput(e,t,!1),hideCaret=()=>scrollHideCaret(!0),showCaret=()=>scrollHideCaret(!1);return(0,l.a)(o,"ionScrollStart",hideCaret),(0,l.a)(o,"ionScrollEnd",showCaret),t.addEventListener("blur",onBlur),()=>{(0,l.b)(o,"ionScrollStart",hideCaret),(0,l.b)(o,"ionScrollEnd",showCaret),t.removeEventListener("blur",onBlur)}},s="input, textarea, [no-blur], [contenteditable]",enableInputBlurring=()=>{let e=!0,t=!1,o=document,onScroll=()=>{t=!0},onFocusin=()=>{e=!0},onTouchend=n=>{if(t){t=!1;return}let r=o.activeElement;if(!r||r.matches(s))return;let l=n.target;l===r||l.matches(s)||l.closest(s)||(e=!1,setTimeout(()=>{e||r.blur()},50))};return(0,l.a)(o,"ionScrollStart",onScroll),o.addEventListener("focusin",onFocusin,!0),o.addEventListener("touchend",onTouchend,!1),()=>{(0,l.b)(o,"ionScrollStart",onScroll,!0),o.removeEventListener("focusin",onFocusin,!0),o.removeEventListener("touchend",onTouchend,!1)}},getScrollData=(e,t,o,n)=>{var r;let l=null!==(r=e.closest("ion-item,[ion-item]"))&&void 0!==r?r:e;return calcScrollData(l.getBoundingClientRect(),t.getBoundingClientRect(),o,n)},calcScrollData=(e,t,o,n)=>{let r=e.top,l=e.bottom,i=t.top,a=Math.min(t.bottom,n-o),s=i+15,d=a-50-l,u=s-r,c=Math.min(Math.round(d<0?-d:u>0?-u:0),r-i);return{scrollAmount:c,scrollDuration:Math.min(400,Math.max(150,Math.abs(c)/.3)),scrollPadding:o,inputSafeY:-(r-s)+4}},d="$ionPaddingTimer",setScrollPadding=(e,t,o)=>{let n=e[d];n&&clearTimeout(n),t>0?e.style.setProperty("--keyboard-offset","".concat(t,"px")):e[d]=setTimeout(()=>{e.style.setProperty("--keyboard-offset","0px"),o&&o()},120)},setClearScrollPaddingListener=(e,t,o)=>{e.addEventListener("focusout",()=>{t&&setScrollPadding(t,0,o)},{once:!0})},u=0,c="data-ionic-skip-scroll-assist",enableScrollAssist=function(e,t,o,r,l,a,s){let d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=a&&(void 0===s||s.mode===i.a.None),v=!1,h=void 0!==n.w?n.w.innerHeight:0,keyboardShow=n=>{if(!1===v){v=!0;return}jsSetFocus(e,t,o,r,n.detail.keyboardHeight,u,d,h,!1)},focusOut=()=>{v=!1,null===n.w||void 0===n.w||n.w.removeEventListener("ionKeyboardDidShow",keyboardShow),e.removeEventListener("focusout",focusOut,!0)},focusIn=async()=>{if(t.hasAttribute(c)){t.removeAttribute(c);return}jsSetFocus(e,t,o,r,l,u,d,h),null===n.w||void 0===n.w||n.w.addEventListener("ionKeyboardDidShow",keyboardShow),e.addEventListener("focusout",focusOut,!0)};return e.addEventListener("focusin",focusIn,!0),()=>{e.removeEventListener("focusin",focusIn,!0),null===n.w||void 0===n.w||n.w.removeEventListener("ionKeyboardDidShow",keyboardShow),e.removeEventListener("focusout",focusOut,!0)}},setManualFocus=e=>{document.activeElement!==e&&(e.setAttribute(c,"true"),e.focus())},jsSetFocus=async function(e,t,o,n,i,a){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=!(arguments.length>8)||void 0===arguments[8]||arguments[8];if(!o&&!n)return;let v=getScrollData(e,o||n,i,d);if(o&&4>Math.abs(v.scrollAmount)){setManualFocus(t),a&&null!==o&&(setScrollPadding(o,u),setClearScrollPaddingListener(t,o,()=>u=0));return}relocateInput(e,t,!0,v.inputSafeY,s),setManualFocus(t),(0,l.r)(()=>e.click()),a&&o&&setScrollPadding(o,u=v.scrollPadding);{let n;let scrollContent=async()=>{void 0!==n&&clearTimeout(n),window.removeEventListener("ionKeyboardDidShow",doubleKeyboardEventListener),window.removeEventListener("ionKeyboardDidShow",scrollContent),o&&await (0,r.c)(o,0,v.scrollAmount,v.scrollDuration),relocateInput(e,t,!1,v.inputSafeY),setManualFocus(t),a&&setClearScrollPaddingListener(t,o,()=>u=0)},doubleKeyboardEventListener=()=>{window.removeEventListener("ionKeyboardDidShow",doubleKeyboardEventListener),window.addEventListener("ionKeyboardDidShow",scrollContent)};if(o){let e=await (0,r.g)(o),l=e.scrollHeight-e.clientHeight;if(c&&v.scrollAmount>l-e.scrollTop){"password"===t.type?(v.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",doubleKeyboardEventListener)):window.addEventListener("ionKeyboardDidShow",scrollContent),n=setTimeout(scrollContent,1e3);return}}scrollContent()}},startInputShims=async(e,t)=>{if(void 0===n.d)return;let o="ios"===t,a="android"===t,s=e.getNumber("keyboardHeight",290),d=e.getBoolean("scrollAssist",!0),u=e.getBoolean("hideCaretOnScroll",o),c=e.getBoolean("inputBlurring",o),v=e.getBoolean("scrollPadding",!0),h=Array.from(n.d.querySelectorAll("ion-input, ion-textarea")),S=new WeakMap,f=new WeakMap,w=await i.K.getResizeMode(),registerInput=async e=>{await new Promise(t=>(0,l.c)(e,t));let t=e.shadowRoot||e,o=t.querySelector("input")||t.querySelector("textarea"),n=(0,r.a)(e),i=n?null:e.closest("ion-footer");if(!o)return;if(n&&u&&!S.has(e)){let t=enableHideCaretOnScroll(e,o,n);S.set(e,t)}let c="date"===o.type||"datetime-local"===o.type;if(!c&&(n||i)&&d&&!f.has(e)){let t=enableScrollAssist(e,o,n,i,s,v,w,a);f.set(e,t)}},unregisterInput=e=>{if(u){let t=S.get(e);t&&t(),S.delete(e)}if(d){let t=f.get(e);t&&t(),f.delete(e)}};for(let e of(c&&enableInputBlurring(),h))registerInput(e);n.d.addEventListener("ionInputDidLoad",e=>{registerInput(e.detail)}),n.d.addEventListener("ionInputDidUnload",e=>{unregisterInput(e.detail)})}}}]);